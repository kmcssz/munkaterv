<div *ngIf="fogSor.filterChildren(terv) | async as children"
    cdkDropList
    class="foglalkozasok"
    [cdkDropListDisabled]="!(editable$ | async)"
    (cdkDropListDropped)="drop($event)"
>
    <div *ngFor="let foglalkozas of children; let last = last">

        <div cdkDrag class="foglalkozas">
            <div *ngIf="editable$ | async"
                cdkDragHandle
                class="drag-handle"
            >
                <mat-icon>drag_indicator</mat-icon>
            </div>

            <app-foglalkozas
                [start]="computeStartTime(children, foglalkozas.uuid)"
                [foglalkozas]="foglalkozas"
            ></app-foglalkozas>

            <div class="foglalkozas-toolbar">
                <mat-icon *ngIf="editable$ | async"
                    matTooltip="Törölni"
                    matTooltipClass="large"
                    (click)="delete(foglalkozas)"
                >delete</mat-icon>
            </div>
        </div>

        <div *ngIf="!last" class="time">
            {{translateAfterTime(children, foglalkozas)}}
        </div>
    </div>
</div>
